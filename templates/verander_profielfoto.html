{% extends "layout.html" %}

{% block title %}
    Verander profielfoto
{% endblock %}

{% block main %}
<form action="/verander_profielfoto" method="post" enctype="multipart/form-data" onsubmit="return check()">
    <div>
        <img scr="" style="height: 250px;" id="profiel"/>
    </div>
    <br>
    <label class="custom-file-upload">
        <input type=file name="profielfoto" id="profielfoto" accept="image/*" onchange="preview_image('event')"/>
        Klik om een profielfoto toe te voegen
    </label> <br><br>
    <button class="login" type="submit" name="verander">Verander</button>
</form>

<script>

    // checkt of foto is geupload
    function check() {
        if (!document.getElementById("profielfoto").value) {
            Alert.render("kies een profielfoto");
            return false;
        }
        return true;
    }

    // laat een preview van de foto zien
    function preview_image(event) {

        // selecteer de foto
        var input = document.getElementById("profielfoto");
        var file = input.files[0];

        // als de foto bestaat, laat de foto zien aan de gebruiker
        if (file) {
            var reader = new FileReader();
            reader.addEventListener("load", function() {
            var img = document.getElementById("profiel");
            img.setAttribute("src", this.result);
        });
        reader.readAsDataURL(file);
        }
    }


</script>

{% endblock %}